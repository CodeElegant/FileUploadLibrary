"use strict";import EventHandler from"./EventHandler.js";class Main{constructor(){new EventHandler,Main.prepUX(),Main.loadServiceWorker(),Main.handleManifest()}static prepUX(){document.getElementById("installBanner").style.display="none"}static async loadServiceWorker(){"serviceWorker"in navigator&&await navigator.serviceWorker.register("/ServiceWorker.js").then(e=>{console.log("BDH ServiceWorker registration succeeded. Scope is "+e.scope)}).catch(e=>{console.log("Registration failed with "+e)})}static handleManifest(){let e;window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),e=t,document.getElementById("installBanner").style.display="block",document.getElementById("installButton").addEventListener("click",()=>{document.getElementById("installBanner").style.display="none",e.prompt(),e.userChoice.then(t=>{"accepted"===t.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),e=null})})})}}window.addEventListener("load",()=>{new Main});